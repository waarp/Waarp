<!DOCTYPE html><!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang=""> <![endif]--><!--[if IE 7]> <html class="no-js lt-ie9 lt-ie8" lang=""> <![endif]--><!--[if IE 8]> <html class="no-js lt-ie9" lang=""> <![endif]--><!--[if gt IE 8]><!--> <html class="no-js" lang=""> <!--<![endif]-->
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1" />
<meta name="robots" content="index,follow" />
<meta name="generator" content="Site Studio 6 (www.effectivestudios.com)" />
<meta name="keywords" content="bregier, fichier, file, frederic, gateway, goldengate, http, java, libre, moniteur, monitor, open, openr66, route, source, ssh, transfer, transfert, waarp" />
<meta name="description" content="Waarp project" />
<link rel="stylesheet" href="Waarp.css" type="text/css" />
<style type="text/css">
a {
	color:#0000FF;
	text-decoration:underline;
}
a:visited {
	text-decoration:underline;
}
a:hover {
	text-decoration:underline;
}
a img {
	border:#000000 0px none;
}
</style>
<title>Waarp - Waarp R66</title>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1">
<!-- Bootstrap CSS -->
<link rel="stylesheet" href="css/magic-bootstrap-min.css">
<!-- special CSS -->
<style type="text/css">
@-moz-document url-prefix() { fieldset { display: table-cell; } }
</style>
<!-- JQuery -->
<script type="text/javascript" src="js/jquery-1.11.2.min.js"></script>
<script src="js/modernizr-2.8.3-respond-1.4.2.min.js"></script>
<!-- Bootstrap -->
<script type="text/javascript" src="js/bootstrap.min.js"></script>
<link rel="stylesheet" href="Waarp.css" type="text/css" />
<script>
$( document ).ready(function(){
 $.get( "res/waarpmenu.html", function(data) {
 $( "#waarpmenu" ).html(data);
 $("body").removeAttr("class").removeAttr( "style" );
 $("#Comp2_sys_doctext").addClass("panel-body container-fluid");
 var curpage= "r660/r66";
 var splitPages = curpage.split("/");
 $.each( splitPages, function( index, value ){ $("#"+value).addClass("active"); });
  $('ul.dropdown-menu [data-toggle=dropdown]').on('click', function(event) {
   event.preventDefault(); 
   event.stopPropagation(); 
   $(this).parent().siblings().removeClass('open');
   $(this).parent().toggleClass('open');
  });
 });
});
</script>
<style type="text/css">
.dropdown-submenu{position:relative;}
.dropdown-submenu>.dropdown-menu{top:0;left:100%;margin-top:-6px;margin-left:-1px;-webkit-border-radius:0 6px 6px 6px;-moz-border-radius:0 6px 6px 6px;border-radius:0 6px 6px 6px;}
.dropdown-submenu>a:after{display:block;content:" ";float:right;width:0;height:0;border-color:transparent;border-style:solid;border-width:5px 0 5px 5px;border-left-color:#cccccc;margin-top:5px;margin-right:-10px;}
.dropdown-submenu:hover>a:after{border-left-color:#555;}
.dropdown-submenu.pull-left{float:none;}.dropdown-submenu.pull-left>.dropdown-menu{left:-100%;margin-left:10px;-webkit-border-radius:6px 0 6px 6px;-moz-border-radius:6px 0 6px 6px;border-radius:6px 0 6px 6px;}
.h1 { font-size:14px; color:#333333; font-weight:bold;}
.h2, .h3 { font-size:12pt; color:#333333; font-weight:bold; }
.h4, .h5, .h6 { font-size:13px; color:#333333; font-weight:bold; }
</style>
</head>
<body class="normal" style="font-family:Verdana,sans-serif;font-size:8pt;color:#000000;margin:0px;padding:0px;background-color:#FFFFFF;">
<div id="Comp1_CodeRelayer"><!--[if lt IE 8]>
<p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
<![endif]-->
<div class="cover" id="waarpmenu" />
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-1693657-4', 'auto');
  ga('send', 'pageview');

</script>
</div>
<div style="text-align:left;margin:0px 4px;">
<h1 class="h1">Waarp R66</h1>
<div id="Comp2_sys_doctext"><p style="text-align:center;"><strong><ins><span style="font-size:14pt;color:#0006ff;">Waarp R66 : software&nbsp;for massive&nbsp;file transfer with monitoring :&nbsp;Waarp Route66</span></ins></strong></p>
<p style="text-align:justify;">&nbsp;</p>
<p style="text-align:justify;"><span style="font-size:11pt;">This web site contains most of the useful informations to setup and use Waarp R66: </span></p>
<p style="text-align:center;"><span style="font-size:11pt;"><a href="res/document/onedocumentwaarp.pdf"><strong>Here is the equivalent&nbsp;PDF-One document</strong></a><strong>&nbsp;</strong><em><span style="font-size:9pt;">(potentially not up-to-date)</span></em></span></p>
<ul>
<li><div style="text-align:justify;"><span style="font-size:11pt;"><a href="WaarpR66Presentation.html">Presentation</a> gives an overview of Waarp R66</span></div></li>

<li><div style="text-align:justify;"><span style="font-size:11pt;">
<p style="text-align:justify;"><span style="font-size:11pt;"><a href="WaarpR66Installation.html">Installation</a> points to installation procedure (still manual operation right now, but automatic process to come)</span></p></span></div></li>

<li><div style="text-align:justify;"><span style="font-size:11pt;"><a href="WaarpR66undertheWood.html">Technical</a> points to some technical "under the wood" specifications as the protocol, the filestatus or the REST interface</span></div></li>

<li><span style="font-size:11pt;"><a href="WaarpR66Howtos.html">Howtos</a> points to various help, options and production related elements as the monitoring or the administration</span>&nbsp; 
</li><li><div style="text-align:justify;"><span style="font-size:11pt;"><a href="R66AdministratorGui.html">R66 Administrator GUI </a>points to a central tool to help to administrate multiple R66 servers (or one) and will be extended through time</span></div></li>

<li><div style="text-align:justify;"><span style="font-size:11pt;"><a href="R66Proxy.html">R66 Proxy</a> presents the proxy support for R66&nbsp;for highly&nbsp;secured environments</span></div></li>

<li>
<div style="text-align:justify;"><span style="font-size:11pt;"><a href="R66ClientGui.html">R66 Client GUI</a> presents the GUI for R66 client</span></div></li></ul>
<p style="text-align:justify;"><span style="font-size:11pt;">Note that on the github web site, you can also found <a href="https://github.com/waarp/WaarpR66/wiki/_pages">some wiki </a>that have some useful tips and tricks to help you to get the best of this software.</span></p>
<p style="text-align:justify;">&nbsp;</p>
<p style="text-align:justify;"><span style="font-size:11pt;">This&nbsp;software is a file transfer monitor in protected and powerful contexts.</span></p>
<p style="text-align:justify;">&nbsp;</p>
<p style="text-align:center;"><img title="openr66-overview" alt="openr66-overview" src="res/openr66/openr66overview1.png" width="672" height="358" /></p>
<p style="text-align:center;"></p>
<p style="text-align:justify;">&nbsp;</p>
<p style="text-align:justify;"><span style="font-size:11pt;">Waarp R66 is Massive a File Transfer Monitor as:</span></p>
<ul>
<li><div style="text-align:left;"><span style="font-size:11pt;color:#000000;">Efficient and secured</span></div></li>

<li><div style="text-align:left;"><span style="font-size:11pt;">Adaptative to functional needs</span></div></li>

<li><div style="text-align:left;"><span style="font-size:11pt;">Integration within IT (SNMP compatible)</span></div></li>

<li><div style="text-align:left;"><span style="font-size:11pt;">Strong Administration and Production tools</span></div></li>

<li><div style="text-align:left;"><span style="font-size:11pt;">History of transfers, tracked events</span></div></li>

<li><div style="text-align:left;"><span style="font-size:11pt;">Independent of Server Platforms</span></div></li>

<li><div style="text-align:left;"><span style="font-size:11pt;">Totally Open Source</span></div></li>

<li><div style="text-align:left;"><span style="font-size:11pt;">Usable with different kinds of Database, centralized or distributed</span></div></li>

<li><div style="text-align:left;"><span style="font-size:11pt;">Integration within Waarp file transfer gateway (translating from HTTP/FTP to R66)</span></div><ul>
<li><div style="text-align:left;"><span style="font-size:10pt;">FTP is available through Waarp Gateway FTP Exec</span></div></li>

<li><div style="text-align:left;"><span style="font-size:10pt;">FTP Client is enabled through Tasks</span></div></li>

<li>
<div style="text-align:left;"><span style="font-size:10pt;">HTTP could be made available through explicit specifications in order to provide an adaptation since it is more business dependant</span></div></li></ul></li>


<li><div style="text-align:left;"><span style="font-size:11pt;">Integration within an application through extra Java Classes, both on client and server side, allowing Application 2 Application model</span></div></li>

<li>
<div style="text-align:left;"><span style="font-size:11pt;">Internationalization supported both on Server, Client and Web administration interfaces</span></div></li></ul>
<p style="text-align:justify;"><span style="font-size:11pt;">This Software has the following properties:</span></p>
<ul>
<li><p style="text-align:justify;"><span style="font-size:11pt;">Full&nbsp;Java, so platform independent (tested under Windows, Linux, AIX)</span></p></li>

<li><p style="text-align:justify;"><span style="font-size:11pt;">Allows to manage&nbsp;up to &nbsp;2^64 simultaneous transfers </span></p></li>

<li><p style="text-align:justify;"><span style="font-size:11pt;">Uses a database (JDBC: H2,&nbsp;PostGreSQL&nbsp (recommended) ;or Oracle indifferently, implementations works also with MySQL and&nbsp;MariaDB&nbsp;but not recommended) to retain configuration and log of transfer but is not required for clients to be functional</span></p></li>

<li><p style="text-align:justify;"><span style="font-size:11pt;">Allows the sending and the reception (in Push or Pull mode) between two identified partners</span></p></li>

<li><span style="font-size:11pt;">The transfer is protected (controlled optionally by MD5 or SHA1 or others, with restart of transfer, SSL support) </span></li>
<li><span style="font-size:11pt;">Allows the execution of pre operation (before transfer) or of post operation (after transfer) or error operation (after an error occurs)&nbsp;</span> 
</li><li><span style="font-size:11pt;">Multiplexing of network connections between two servers (firewall compliant)</span> 
</li><li><span style="font-size:11pt;">Proxy/Reverse Proxy&nbsp;for R66 protocol (for DMZ)</span>&nbsp; 
</li><li><span style="font-size:11pt;">KeepAlive&nbsp;internal and TimeOut control</span> 
</li><li><span style="font-size:11pt;">Control on Bandwidth, CPU, simultaneous transfer limitation&nbsp;usage&nbsp; </span></li>
<li><span style="font-size:11pt;">Functions of control and statistics, traces for all transfer operations</span>&nbsp; 
</li><li><span style="font-size:11pt;">Web support for monitoring production</span> 
</li><li><span style="font-size:11pt;">Web and software&nbsp;have I18N support for internationalization (<img title="fr" alt="fr" src="res/waarp/fr.png" width="16" height="16" />&nbsp;and <img title="en" alt="en" src="res/waarp/en.png" width="16" height="16" /> for the moment)</span> 
</li><li><span style="font-size:11pt;">Log level is manageable at startup (configured through Logback config file) or from Administration interface during the execution</span> 
</li><li><span style="font-size:11pt;">HTTPS Web administrator allows to manage accounts with specific rights</span> 
</li><li><span style="font-size:11pt;">SNMP&nbsp;compatible as Agent both in pull or notification mode with SNMP V2 and V3 compatibility&nbsp; </span></li>
<li><span style="font-size:11pt;">S3 support for getting or sending files from R66 Files (as source or target)</span></li>
<li><span style="font-size:11pt;">API REST to administrate all events and functionalities</span></li>
<li><span style="font-size:11pt;">Compatible with external API REST to receive (push mode from R66 server) all events, to centralize monitoring (usable with a standard HTTP(s) API REST or even an Elasticsearch API REST)</span></li>
<li><span style="font-size:11pt;">Usual client submitted transfer through database as asynchronous operation</span> 
</li><li><span style="font-size:11pt;">Synchronous client which directly manages its transfer, using however the database as control</span> 
</li><li>
<div style="text-align:justify;"><span style="font-size:11pt;">Synchronous thin client which does not used the database at all (useful for instance for light client on personal computer and not server in production) - those clients are not listening to incoming transfer requests but can only initiates transfers (in push or pull)</span></div></li></ul>
<p style="text-align:center;"><img title="logon" alt="logon" src="res/document/logon.png" width="602" height="373" /></p>
<p style="text-align:justify;">&nbsp;</p>
<p style="text-align:justify;">&nbsp;</p>
<p style="text-align:justify;"><span style="font-size:11pt;">This project is in production in the French Ministery of Finances to enable file transfers from an FTP protocol (client side) to a Waarp&nbsp;R66 protocol (server side protocol) and to allow file transfers between two instances&nbsp;within the same services with a long distance and with a high secured and controled protocol due to the&nbsp;high level of security and integrity in the corresponding project&nbsp;since end of 2009. See <a href="CrawdUser.html">Crawd User</a> page for some other IT using it.</span></p>
<p style="text-align:justify;">&nbsp;</p>
<p style="text-align:justify;"><strong><ins><span style="font-size:11pt;">Benchmarks (2021)</span></ins></strong></p>
<p style="text-align:justify;">&nbsp;</p>
<p style="text-align:justify;"><span style="font-size:11pt;">New benchmarks were done in 2021 to check the correctness of the solution according to new environement, using mainly Linux and small servers, even more in Cloud environement. The servers used were simple Linux server with 8 to 16 GB of RAM, Sata or SSD DISK and 2 or 4 cores, including both database and the Waarp R66 Server. Two versions were compared: the V3.0, mainly based on 2.4 version with few improvements around performances and bottleneck, the V3.2,the V3.5.2 and the V3.6 with a huge gap of improvements, continuing improvements in 3.6.1.</span></p>
<ul>
<li><div style="text-align:justify;"><span style="font-size:11pt;">Memory consumption decreases of 25% (from 1100MB to 500MB)</span></div></li>
<li><div style="text-align:justify;"><span style="font-size:11pt;">CPU consumption decreases of 25% (from 70% to 30%)</span></div></li>
<li><div style="text-align:justify;"><span style="font-size:11pt;">Thread consumption decreases drastically by a factor of 3 (from 6000 to 2000 Threads)</span></div></li>
<li><div style="text-align:justify;"><span style="font-size:11pt;">Database consumption decreases drastically from more than 100 concurrent connections to a couple of them.</span></div></li>
<li><div style="text-align:justify;"><span style="font-size:11pt;">Last but not least, Transfer capacity increases accordingly of 100% and with even more stability.</div>
<ul><li>
<div style="text-align:justify;"><span style="font-size:11pt;">
 In V3.0 and previously, it was possible that transfers hang above 1000 concurrent transfers, now even 5000 do not prevent any transfer to continue until the end.</li>
<li>
<div style="text-align:justify;"><span style="font-size:11pt;"> On a small server (2 cores 8 GB SATA Disk), the transfer rate was about 125 transfers per second for 2000 simultaneous transfers between 2 local Waarp servers using 2 databases (so twice CPU, RAM, Disk, Network, Database, Thread contentions on the same host).</li>
<li>
<div style="text-align:justify;"><span style="font-size:11pt;"> On a standard recommended server (4 cores 16 GB SSD Disk), the transfer rate was about 150 transfers per second for 2000 simultaneous transfers between 2 local Waarp servers using 2 databases (so twice CPU, RAM, Disk, Network, Database, Thread contentions on the same host).</li>
<li>
<div style="text-align:justify;"><span style="font-size:11pt;"><em>According to our tests, projection on a server using 4 cores 8 GB SSD Disk can reach more than 300 transfers per seconds. Moreover using a cluster mode, we were able to reach about 350 transfer/s on the very same hardware (4 core 16 GB SSD Disk server), hosting 2 R66 servers in cluster mode (acting as 1).<em></span></div></li>
</ul>
</li>
</ul>
<p style="text-align:justify;">&nbsp;</p>
<p style="text-align:center;"><img title="openr66-v3.6.1-benchmark" alt="openr66-v3.6.1-benchmark" src="res/bench/benchmark-versions.png" /></p>
<p style="text-align:justify;">&nbsp;</p>

<p style="text-align:justify;">&nbsp;</p>
<p style="text-align:justify;"><strong><ins><span style="font-size:11pt;">Benchmarks (2019)</span></ins></strong></p>
<p style="text-align:justify;">&nbsp;</p>
<p style="text-align:justify;"><span style="font-size:11pt;">New benchmarks were done in 2019 to check the correctness of the solution according to new environement, using mainly Linux and small servers, even more in Cloud environement. The servers used were simple Linux server with 8 GB of RAM, Sata DISK and 2 cores, including both database and the Waarp R66 Server. Two versions were compared: the V3.0, mainly based on 2.4 version with few improvements around performances and bottleneck, and the V3.2 with a huge gap of improvements.</span></p>
<ul>
<li><div style="text-align:justify;"><span style="font-size:11pt;">Memory consumption decreases of 25% (from 1100MB to 700MB)</span></div></li>
<li><div style="text-align:justify;"><span style="font-size:11pt;">CPU consumption decreases of 25% (from 70% to 45%)</span></div></li>
<li><div style="text-align:justify;"><span style="font-size:11pt;">Thread consumption decreases drastically by a factor of 3 (from 6000 to 2000 Threads)</span></div></li>
<li><div style="text-align:justify;"><span style="font-size:11pt;">Database consumption decreases drastically from more than 100 concurrent connections to a couple of them.</span></div></li>
<li><div style="text-align:justify;"><span style="font-size:11pt;">Last but not least, Transfer capacity increases accordingly of 30% and with even more stability.</div>
<ul><li>
<div style="text-align:justify;"><span style="font-size:11pt;">
 In V3.0 and previously, it was possible that transfers hang above 1000 concurrent transfers, now even 5000 do not prevent any transfer to continue until the end.</li>
<li>
<div style="text-align:justify;"><span style="font-size:11pt;"> On this small server, the transfer rate was about 54 transfers per second for 2000 simultaneous transfers between 2 local Waarp servers using 2 databases (so twice CPU, RAM, Disk, Network, Database, Thread contentions on the same host).</li>
<li>
<div style="text-align:justify;"><span style="font-size:11pt;"><em>According to our tests, compare to 110 transfers per seconds on 2 servers having each 4 cores, this is a great improvement, since only 2 cores were available and only 1 host for 2 servers and CPU was at 100%. A projection on 2 servers using each 4 cores could lead to more than 150 transfers per seconds.<em></span></div></li>
</ul>
</li>
</ul>
<p style="text-align:justify;">&nbsp;</p>
<p style="text-align:center;"><img title="openr66-v3.2-benchmark" alt="openr66-v3.2-benchmark" src="res/bench/bench-v3-V3.2.png" width="947" height="574" /></p>
<p style="text-align:justify;">&nbsp;</p>


<p style="text-align:justify;"><strong><ins><span style="font-size:11pt;">Benchmarks (2009)</span></ins></strong></p>
<p style="text-align:justify;">&nbsp;</p>
<p style="text-align:justify;"><span style="font-size:11pt;">Some pre benchmarks were done on PC and a Power5 server (12 CPU). In every benchmarks, the java used memory was less than 200 Mbytes, the CPU was always less than 4 CPU by JVM (server or client). The tested file has a size of 1.12 Mbytes.</span></p>
<ul>
<li><div style="text-align:justify;"><span style="font-size:11pt;">100 synchronous clients using one multiplexing network connection: 32 transmissions per second (average) or 286 Mbits (with or without MD5)</span></div></li>

<li><div style="text-align:justify;"><span style="font-size:11pt;">1000 asynchronous transfers (submitted work) using one multiplexing network connection:&nbsp;59 transmissions&nbsp;per second (average) or&nbsp;527 Mbits </span></div></li>

<li>
<div style="text-align:justify;"><span style="font-size:11pt;">1000 synchronous clients using 10 multiplexing network connection (100 synchronous clients by network client):&nbsp;70 transmissions&nbsp;per second (average) or&nbsp;627 Mbits</span></div></li></ul>
<p style="text-align:justify;">&nbsp;</p>
<p style="text-align:center;"><img title="openr66-benchmark" alt="openr66-benchmark" src="res/bench/openr66benchmark.png" width="850" height="542" /></p>
<p style="text-align:justify;">&nbsp;</p>
<p style="text-align:justify;"><span style="font-size:11pt;">More recent benchmarks (2019) show that R66 was able to sustend more than 130 transfers per second in average&nbsp;between 2 x&nbsp;2-core x86 servers.</span></p>
<p>&nbsp;</p></div>
<p>&nbsp;</p></div>
</body>
</html>
